const express = require('express');
const router = express.Router()


const{
    createCourse,
    getAllCourses,
    getCourseDetails
} = require('../controllers/Course')


const {
    createCategory,
    getCategory,
    categoryPage
} = require('../controllers/Category')



const {
    createSection,
    updateSection,
    deleteSection
} = require('../controllers/section')


const 
{
    createSubSection,
    updateSubSection,
    deleteSubSection
} = require('../controllers/subSection')


const {
    createRating,
    getAverageRating,
    getAllRating
} = require('../controllers/ratingAndreviews')

const{
    auth,
    isStudent,
    isInstructor,
    isAdmin
} = require('../middleware/auth')



// for instrutors
router.post('/createCourse',auth,isInstructor,createCourse)

router.post('/addSection',auth,isInstructor,createSection)

router.post('/updateSection',auth,isInstructor,updateSection)


router.delete('/deleteSection',auth,isInstructor,deleteSection)


router.post('/addSubSection',auth,isInstructor,createSubSection)


router.post('/updateSubSection',auth,isInstructor,updateSubSection)


router.delete('/seleteSubSection',auth,isInstructor,deleteSubSection)


router.get('/getAllCourses',auth,isInstructor,getAllCourses)


router.get('/getCourseDetails',auth,isInstructor,getCourseDetails)


// for admin 

router.post('/createCategory',auth, isAdmin,createCategory)

router.get('/showAllCategories',getCategory)

router.get('/getCategoryDetails',categoryPage)



// rating 
router.post('/createRating',auth,isStudent,createRating)
router.get('/getAverageRating',getAverageRating)
router.get('/getReviews',getAllRating)


module.exports = router;